# 秒杀

> 参考：[秒杀设计开篇](https://time.geekbang.org/column/article/40153)

> 参考：[秒杀架构原则](https://time.geekbang.org/column/article/40726)

> 参考：[高并发秒杀系统](https://blog.csdn.net/CSDN_Terence/article/details/77744042)

> 参考：[面试之秒杀问题](http://www.voidcn.com/article/p-dkhmifwx-co.html)


## 前端
1. 页面元素尽量简单，静态化，存储于CDN
2. 按钮点击一次后置灰 

> 参考：[动静分离](https://time.geekbang.org/column/article/40727)

## 后端
1. 流量削峰（消息队列）
> 参考：[流量削峰](https://time.geekbang.org/column/article/40736)
2. 缓存记录每位用户的请求数：一位用户只准请求一次
3. 缓存记录秒杀产品的库存量：卖空后则直接返回失败
4. 下单后减库存
   
   1. 订单超时补库存
   2. 支付失败补库存
   3. 扣/补完数据库中的库存后，更新缓存中的库存
> 参考：[扣减库存](https://time.geekbang.org/column/article/40743)

5. 数据库：主从备份，读写分离

## 部署
1. 秒杀系统单独部署
2. 服务节点横向扩展

## 延伸
1. 准备兜底方案
2. 利用热点数据

> 参考：[兜底方案](https://time.geekbang.org/column/article/40744)

> 参考：[热点数据](https://time.geekbang.org/column/article/40729)

> 参考：[答疑解惑](https://time.geekbang.org/column/article/68247)

> 参考：[优化性能](https://time.geekbang.org/column/article/40742)

